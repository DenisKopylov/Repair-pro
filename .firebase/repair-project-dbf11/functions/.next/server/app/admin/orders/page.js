(()=>{var e={};e.id=798,e.ids=[798],e.modules={132:()=>{},349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(3486),a=r(159),n=r(5204),l=r(9989),i=r.n(l),o=r(5700),d=r(4981),p=r(4667);let u=(0,p.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var c=r(4394),m=r(5577);let x=(0,p.A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),h=e=>fetch(e,{cache:"no-store"}).then(e=>e.json()),v={NEW:"bg-stone-200 text-stone-700",OFFERED:"bg-yellow-100 text-yellow-700",IN_PROGRESS:"bg-primary-50 text-primary-600",DONE:"bg-green-100 text-green-700",DECLINED:"bg-stone-300 text-stone-600"},b={NEW:(0,s.jsx)(o.A,{size:16}),OFFERED:(0,s.jsx)(d.A,{size:16}),IN_PROGRESS:(0,s.jsx)(d.A,{size:16}),DONE:(0,s.jsx)(u,{size:16}),DECLINED:(0,s.jsx)(c.A,{size:16}),DEFAULT:(0,s.jsx)(d.A,{size:16})},f=[{value:"",label:"Все статусы"},{value:"NEW",label:"Новый"},{value:"OFFERED",label:"Ожидает решения"},{value:"DECLINED",label:"Отказ"},{value:"CONFIRMED",label:"Подтверждён"},{value:"IN_PROGRESS",label:"В работе"},{value:"DONE",label:"Готов"}],g=[{value:"",label:"Все детали"},{value:"Генератор",label:"Генератор"},{value:"Стартер",label:"Стартер"},{value:"ТНВД",label:"ТНВД"},{value:"Форсунки",label:"Форсунки"},{value:"Гидроцилиндр",label:"Гидроцилиндр"},{value:"Гидрораспределитель",label:"Гидрораспределитель"},{value:"Гидронасос",label:"Гидронасос"},{value:"Гидромотор",label:"Гидромотор"}];function y(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[c,y]=(0,a.useState)(""),j=(0,a.useMemo)(()=>{let t=new URLSearchParams({all:"true"});return e.trim()&&t.set("search",e.trim()),r&&t.set("status",r),o&&t.set("partType",o),p&&t.set("from",p),c&&t.set("to",c),`/orders?${t.toString()}`},[e,r,o,p,c]),{data:N,isLoading:P}=(0,n.Ay)(j,h);return P?(0,s.jsx)("div",{className:"flex justify-center mt-20",children:(0,s.jsx)(m.A,{className:"animate-spin text-stone-500"})}):(0,s.jsxs)("main",{className:"p-4 pb-24 max-w-md mx-auto",children:[(0,s.jsxs)("h1",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(x,{size:18})," Заказы сервис-центров"]}),(0,s.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,s.jsx)("input",{type:"text",value:e,onChange:e=>{t(e.target.value)},placeholder:"Поиск по названию сервиса или ID",className:"w-full border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("select",{value:r,onChange:e=>{l(e.target.value)},className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600",children:f.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("select",{value:o,onChange:e=>{d(e.target.value)},className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600",children:g.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"date",value:p,onChange:e=>{u(e.target.value)},className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600"}),(0,s.jsx)("input",{type:"date",value:c,onChange:e=>{y(e.target.value)},className:"flex-1 border rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600"})]})]}),N?.map(e=>(0,s.jsx)(i(),{href:`/admin/orders/${e._id}`,className:"block bg-white shadow rounded-xl p-4 mb-5 ring-1 ring-stone-200 hover:ring-primary-600/60 transition",children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium leading-tight",children:e.clientName}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["#",e._id.slice(-6)]}),(0,s.jsx)("p",{className:"text-sm text-stone-700 mt-1",children:e.partType}),(0,s.jsxs)("p",{className:"text-xs text-stone-400",children:["Создан: ",new Date(e.createdAt).toLocaleDateString("ru-RU")]})]}),(0,s.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full ${v[e.status]}`,children:[b[e.status],e.status.replace("_"," ")]})]})},e._id)),!N?.length&&(0,s.jsx)("p",{className:"text-center text-stone-500 mt-10",children:"Нет заказов"})]})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1700:(e,t,r)=>{Promise.resolve().then(r.bind(r,8211))},1971:()=>{},2340:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4356:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var s=r(8828);r(1971);var a=r(19),n=r.n(a);let l={title:"Create Next App",description:"Generated by create next app"};function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:n().className,children:e})})}},4394:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4981:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("clock-3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]])},5668:(e,t,r)=>{Promise.resolve().then(r.bind(r,349))},5699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>c,tree:()=>d});var s=r(4332),a=r(8819),n=r(7851),l=r.n(n),i=r(7540),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d={children:["",{children:["admin",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8211)),"/home/user/repair-platform/apps/frontend/app/admin/orders/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4356)),"/home/user/repair-platform/apps/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,2341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,p=["/home/user/repair-platform/apps/frontend/app/admin/orders/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/orders/page",pathname:"/admin/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5700:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},7891:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,385,23)),Promise.resolve().then(r.t.bind(r,3737,23)),Promise.resolve().then(r.t.bind(r,6081,23)),Promise.resolve().then(r.t.bind(r,1904,23)),Promise.resolve().then(r.t.bind(r,5856,23)),Promise.resolve().then(r.t.bind(r,5492,23)),Promise.resolve().then(r.t.bind(r,9082,23)),Promise.resolve().then(r.t.bind(r,5812,23))},8211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/repair-platform/apps/frontend/app/admin/orders/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/repair-platform/apps/frontend/app/admin/orders/page.tsx","default")},8219:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9355,23)),Promise.resolve().then(r.t.bind(r,4439,23)),Promise.resolve().then(r.t.bind(r,7851,23)),Promise.resolve().then(r.t.bind(r,4730,23)),Promise.resolve().then(r.t.bind(r,9774,23)),Promise.resolve().then(r.t.bind(r,3170,23)),Promise.resolve().then(r.t.bind(r,968,23)),Promise.resolve().then(r.t.bind(r,8298,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[421,989,588],()=>r(5699));module.exports=s})();