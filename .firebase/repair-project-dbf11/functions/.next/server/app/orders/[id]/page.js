(()=>{var e={};e.id=40,e.ids=[40],e.modules={2984:(e,t,s)=>{"use strict";var r=s(860);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21971:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var r=s(38828);s(21971);var n=s(30019),a=s.n(n);let i={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:a().className,children:e})})}},37891:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,30385,23)),Promise.resolve().then(s.t.bind(s,33737,23)),Promise.resolve().then(s.t.bind(s,86081,23)),Promise.resolve().then(s.t.bind(s,1904,23)),Promise.resolve().then(s.t.bind(s,35856,23)),Promise.resolve().then(s.t.bind(s,55492,23)),Promise.resolve().then(s.t.bind(s,89082,23)),Promise.resolve().then(s.t.bind(s,45812,23))},42429:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx","default")},54394:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},54705:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(24332),n=s(48819),a=s(67851),i=s.n(a),o=s(97540),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,42429)),"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,34356)),"/home/user/repair-platform/apps/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,92341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/orders/[id]/page",pathname:"/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64132:(e,t,s)=>{Promise.resolve().then(s.bind(s,42429))},70132:()=>{},72340:()=>{},76181:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let r=s(60159);function n(e,t){let s=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=s.current;e&&(s.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(s.current=a(e,r)),t&&(n.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78219:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,69355,23)),Promise.resolve().then(s.t.bind(s,54439,23)),Promise.resolve().then(s.t.bind(s,67851,23)),Promise.resolve().then(s.t.bind(s,94730,23)),Promise.resolve().then(s.t.bind(s,19774,23)),Promise.resolve().then(s.t.bind(s,53170,23)),Promise.resolve().then(s.t.bind(s,20968,23)),Promise.resolve().then(s.t.bind(s,78298,23))},79438:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},87387:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(13486),n=s(2984),a=s(65204),i=s(49933),o=s(60159),l=s(15577),d=s(79438),c=s(54394);let u=e=>s.e(436).then(s.bind(s,71436)).then(({fetchWithAuth:t})=>t(e,{cache:"no-store"}).then(e=>e.json()));function m(){let{id:e}=(0,n.useParams)(),t=(0,n.useRouter)(),{data:m,isLoading:p}=(0,a.Ay)(`/orders/${e}`,u),[x,h]=(0,o.useState)(!1),f=async r=>{h(!0);let{fetchWithAuth:n}=await s.e(436).then(s.bind(s,71436));await n(`/orders/${e}/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ok:r})}),t.push("/orders")};return p||!m?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)(l.A,{className:"animate-spin text-stone-400",size:48})}):(0,r.jsxs)("main",{className:"px-4 py-6 max-w-md mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("h1",{className:"text-2xl font-semibold",children:["Заказ #",m._id.slice(-6)]}),(0,r.jsx)("p",{className:"text-sm text-stone-500",children:"Просмотрите условия ремонта и примите решение."})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-4",children:[(0,r.jsx)("div",{className:"w-full aspect-video bg-gray-100 rounded-md overflow-hidden",children:(0,r.jsx)(i.default,{src:m.images?.[0]||"/placeholder.png",alt:m.partType,width:800,height:450,className:"object-cover object-center"})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"font-medium",children:m.partType}),m.model&&(0,r.jsx)("p",{className:"text-xs text-stone-500 mt-1",children:m.model})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-stone-600",children:"Цена дефектовки"}),(0,r.jsx)("span",{className:"font-medium",children:null!=m.defectPrice?`${m.defectPrice} ₽`:"—"})]}),(0,r.jsx)("div",{className:"border-t border-stone-200"}),(0,r.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,r.jsx)("span",{className:"text-stone-600",children:"Цена ремонта"}),(0,r.jsx)("span",{className:"font-medium",children:null!=m.repairPrice?`${m.repairPrice} ₽`:"—"})]}),(0,r.jsx)("div",{className:"border-t border-stone-200"}),(0,r.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,r.jsx)("span",{className:"text-stone-600",children:"Срок работы"}),(0,r.jsx)("span",{className:"font-medium",children:null!=m.workHours?`${m.workHours} ч`:"—"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-2",children:[(0,r.jsx)("h2",{className:"text-sm font-medium",children:"Информация о заказе"}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-stone-600",children:"Создан"}),(0,r.jsx)("span",{className:"font-medium",children:new Date(m.createdAt).toLocaleDateString("ru",{day:"2-digit",month:"long",year:"numeric"})})]}),(0,r.jsx)("div",{className:"border-t border-stone-200"}),(0,r.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,r.jsx)("span",{className:"text-stone-600",children:"Статус"}),(0,r.jsx)("span",{className:"inline-flex items-center gap-1 text-xs font-medium py-1 px-2 rounded-full bg-gray-100 text-gray-700",children:function(e){switch(e){case"NEW":return"Новый";case"OFFERED":return"Ожидает решения";case"CONFIRMED":return"Подтверждён";case"DECLINED":return"Отказ";case"IN_PROGRESS":return"В работе";case"DONE":return"Готов";default:return e}}(m.status)})]})]}),"OFFERED"===m.status&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{disabled:x,onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white rounded-md py-3 text-sm font-semibold transition",children:[x?(0,r.jsx)(l.A,{className:"animate-spin text-white",size:16}):(0,r.jsx)(d.A,{size:16}),"Согласиться"]}),(0,r.jsxs)("button",{disabled:x,onClick:()=>f(!1),className:"w-full flex items-center justify-center gap-2 border border-red-600 text-red-600 rounded-md py-3 text-sm font-semibold transition",children:[x?(0,r.jsx)(l.A,{className:"animate-spin text-red-600",size:16}):(0,r.jsx)(c.A,{size:16}),"Отказаться"]})]})]})}},93988:(e,t,s)=>{Promise.resolve().then(s.bind(s,87387))}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[421,588,933],()=>s(54705));module.exports=r})();