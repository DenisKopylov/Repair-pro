(()=>{var e={};e.id=40,e.ids=[40],e.modules={132:()=>{},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1971:()=>{},2340:()=>{},2429:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx","default")},2984:(e,t,r)=>{"use strict";var s=r(860);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3988:(e,t,r)=>{Promise.resolve().then(r.bind(r,7387))},4132:(e,t,r)=>{Promise.resolve().then(r.bind(r,2429))},4356:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var s=r(8828);r(1971);var n=r(19),a=r.n(n);let i={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:a().className,children:e})})}},4394:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4667:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(159);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:c,...u},m)=>(0,s.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:o("lucide",a),...!i&&!l(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),u=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...a},l)=>(0,s.createElement)(c,{ref:l,iconNode:t,className:o(`lucide-${n(i(e))}`,`lucide-${e}`,r),...a}));return r.displayName=i(e),r}},4705:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(4332),n=r(8819),a=r(7851),i=r.n(a),o=r(7540),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2429)),"/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4356)),"/home/user/repair-platform/apps/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,2341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/user/repair-platform/apps/frontend/app/orders/[id]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/orders/[id]/page",pathname:"/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let s=r(159);function n(e,t){let r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,s)),t&&(n.current=a(t,s))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7387:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(3486),n=r(2984),a=r(5204),i=r(9933),o=r(159),l=r(5577),d=r(9438),c=r(4394);let u=e=>fetch(e,{cache:"no-store"}).then(e=>e.json());function m(){let{id:e}=(0,n.useParams)(),t=(0,n.useRouter)(),{data:r,isLoading:m}=(0,a.Ay)(`/orders/${e}`,u),[p,x]=(0,o.useState)(!1),h=async r=>{x(!0),await fetch(`/orders/${e}/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ok:r})}),t.push("/orders")};return m||!r?(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)(l.A,{className:"animate-spin text-stone-400",size:48})}):(0,s.jsxs)("main",{className:"px-4 py-6 max-w-md mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("h1",{className:"text-2xl font-semibold",children:["Заказ #",r._id.slice(-6)]}),(0,s.jsx)("p",{className:"text-sm text-stone-500",children:"Просмотрите условия ремонта и примите решение."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-4",children:[(0,s.jsx)("div",{className:"w-full aspect-video bg-gray-100 rounded-md overflow-hidden",children:(0,s.jsx)(i.default,{src:r.images?.[0]||"/placeholder.png",alt:r.partType,width:800,height:450,className:"object-cover object-center"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"font-medium",children:r.partType}),r.model&&(0,s.jsx)("p",{className:"text-xs text-stone-500 mt-1",children:r.model})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-stone-600",children:"Цена дефектовки"}),(0,s.jsx)("span",{className:"font-medium",children:null!=r.defectPrice?`${r.defectPrice} ₽`:"—"})]}),(0,s.jsx)("div",{className:"border-t border-stone-200"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,s.jsx)("span",{className:"text-stone-600",children:"Цена ремонта"}),(0,s.jsx)("span",{className:"font-medium",children:null!=r.repairPrice?`${r.repairPrice} ₽`:"—"})]}),(0,s.jsx)("div",{className:"border-t border-stone-200"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,s.jsx)("span",{className:"text-stone-600",children:"Срок работы"}),(0,s.jsx)("span",{className:"font-medium",children:null!=r.workHours?`${r.workHours} ч`:"—"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 space-y-2",children:[(0,s.jsx)("h2",{className:"text-sm font-medium",children:"Информация о заказе"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-stone-600",children:"Создан"}),(0,s.jsx)("span",{className:"font-medium",children:new Date(r.createdAt).toLocaleDateString("ru",{day:"2-digit",month:"long",year:"numeric"})})]}),(0,s.jsx)("div",{className:"border-t border-stone-200"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm pt-2",children:[(0,s.jsx)("span",{className:"text-stone-600",children:"Статус"}),(0,s.jsx)("span",{className:"inline-flex items-center gap-1 text-xs font-medium py-1 px-2 rounded-full bg-gray-100 text-gray-700",children:function(e){switch(e){case"NEW":return"Новый";case"OFFERED":return"Ожидает решения";case"CONFIRMED":return"Подтверждён";case"DECLINED":return"Отказ";case"IN_PROGRESS":return"В работе";case"DONE":return"Готов";default:return e}}(r.status)})]})]}),"OFFERED"===r.status&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("button",{disabled:p,onClick:()=>h(!0),className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white rounded-md py-3 text-sm font-semibold transition",children:[p?(0,s.jsx)(l.A,{className:"animate-spin text-white",size:16}):(0,s.jsx)(d.A,{size:16}),"Согласиться"]}),(0,s.jsxs)("button",{disabled:p,onClick:()=>h(!1),className:"w-full flex items-center justify-center gap-2 border border-red-600 text-red-600 rounded-md py-3 text-sm font-semibold transition",children:[p?(0,s.jsx)(l.A,{className:"animate-spin text-red-600",size:16}):(0,s.jsx)(c.A,{size:16}),"Отказаться"]})]})]})}},7891:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,385,23)),Promise.resolve().then(r.t.bind(r,3737,23)),Promise.resolve().then(r.t.bind(r,6081,23)),Promise.resolve().then(r.t.bind(r,1904,23)),Promise.resolve().then(r.t.bind(r,5856,23)),Promise.resolve().then(r.t.bind(r,5492,23)),Promise.resolve().then(r.t.bind(r,9082,23)),Promise.resolve().then(r.t.bind(r,5812,23))},8219:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9355,23)),Promise.resolve().then(r.t.bind(r,4439,23)),Promise.resolve().then(r.t.bind(r,7851,23)),Promise.resolve().then(r.t.bind(r,4730,23)),Promise.resolve().then(r.t.bind(r,9774,23)),Promise.resolve().then(r.t.bind(r,3170,23)),Promise.resolve().then(r.t.bind(r,968,23)),Promise.resolve().then(r.t.bind(r,8298,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9438:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[421,588,933],()=>r(4705));module.exports=s})();