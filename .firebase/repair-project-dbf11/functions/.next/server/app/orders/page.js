(()=>{var e={};e.id=778,e.ids=[778],e.modules={132:()=>{},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1274:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},1838:(e,t,r)=>{Promise.resolve().then(r.bind(r,7687))},1971:()=>{},2039:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d});var s=r(4332),a=r(8819),n=r(7851),o=r.n(n),i=r(7540),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7687)),"/home/user/repair-platform/apps/frontend/app/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4356)),"/home/user/repair-platform/apps/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,2341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,p=["/home/user/repair-platform/apps/frontend/app/orders/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2340:()=>{},2427:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(3486),a=r(5204),n=r(9989),o=r.n(n);let i=(0,r(4667).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var l=r(5700),d=r(1274),p=r(5577),c=r(9438);let m=e=>fetch(e,{cache:"no-store"}).then(e=>e.json()),h={Генератор:(0,s.jsx)(i,{className:"w-5 h-5"}),Стартер:(0,s.jsx)(i,{className:"w-5 h-5"}),"Топливный насос":(0,s.jsx)(i,{className:"w-5 h-5"}),Форсунки:(0,s.jsx)(l.A,{className:"w-5 h-5"}),Гидронасос:(0,s.jsx)(d.A,{className:"w-5 h-5"}),Гидромотор:(0,s.jsx)(d.A,{className:"w-5 h-5"}),Гидроцилиндр:(0,s.jsx)(d.A,{className:"w-5 h-5"}),Гидрораспределитель:(0,s.jsx)(d.A,{className:"w-5 h-5"})},u={NEW:"bg-orange-100 text-orange-700",OFFERED:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-green-100 text-green-700",IN_PROGRESS:"bg-blue-100 text-blue-700",DONE:"bg-emerald-100 text-emerald-700",DECLINED:"bg-rose-100 text-rose-700"};function x(){let{data:e,isLoading:t}=(0,a.Ay)("/orders",m);return t?(0,s.jsx)("div",{className:"flex justify-center pt-20",children:(0,s.jsx)(p.A,{className:"animate-spin text-stone-400"})}):(0,s.jsxs)("main",{className:"pb-28 pt-4 px-4 max-w-md mx-auto",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Мои заказы"}),e?.map(e=>(0,s.jsxs)(o(),{href:`/orders/${e._id}`,className:"block bg-white rounded-xl shadow-sm mb-5 ring-1 ring-stone-200 hover:ring-orange-400/60 transition",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 p-4",children:[(0,s.jsx)("div",{className:"shrink-0 rounded-lg bg-orange-50 p-3",children:h[e.partType]??(0,s.jsx)(i,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"grow",children:[(0,s.jsx)("p",{className:"font-medium leading-tight",children:e.partType}),(0,s.jsx)("p",{className:"text-xs text-stone-500 line-clamp-1",children:e.description}),(0,s.jsxs)("p",{className:"text-xs text-stone-400 mt-1",children:["Создан: ",new Date(e.createdAt).toLocaleDateString("ru")]})]}),(0,s.jsx)("span",{className:`text-[10px] font-medium py-[2px] px-2 rounded-full whitespace-nowrap ${u[e.status]}`,children:function(e){switch(e){case"NEW":return"Новый";case"OFFERED":return"Ожидает решения";case"CONFIRMED":return"Подтверждён";case"DECLINED":return"Отказ";case"IN_PROGRESS":return"В работе";case"DONE":return"Готов";default:return e}}(e.status)})]}),(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)(b,{status:e.status})}),(0,s.jsxs)("button",{className:"flex items-center justify-center w-full gap-1 text-sm font-semibold py-2 mt-4 bg-stone-900 text-white rounded-b-xl",type:"button",children:["Подробнее",(0,s.jsx)(c.A,{className:"w-4 h-4 -mr-1"})]})]},e._id)),!e?.length&&(0,s.jsx)("p",{className:"text-center text-stone-500 mt-12",children:"Пока заказов нет"})]})}function b({status:e}){return(0,s.jsx)("div",{className:"h-2 rounded bg-stone-200 overflow-hidden mb-4",children:(0,s.jsx)("div",{className:`${"DONE"===e?"bg-emerald-500":"IN_PROGRESS"===e?"bg-yellow-400":"bg-orange-500"} h-full transition-all`,style:{width:`${{NEW:0,OFFERED:25,CONFIRMED:50,DECLINED:50,IN_PROGRESS:75,DONE:100}[e]??0}%`}})})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4356:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var s=r(8828);r(1971);var a=r(19),n=r.n(a);let o={title:"Create Next App",description:"Generated by create next app"};function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:n().className,children:e})})}},4534:(e,t,r)=>{Promise.resolve().then(r.bind(r,2427))},5700:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},7687:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/repair-platform/apps/frontend/app/orders/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/repair-platform/apps/frontend/app/orders/page.tsx","default")},7891:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,385,23)),Promise.resolve().then(r.t.bind(r,3737,23)),Promise.resolve().then(r.t.bind(r,6081,23)),Promise.resolve().then(r.t.bind(r,1904,23)),Promise.resolve().then(r.t.bind(r,5856,23)),Promise.resolve().then(r.t.bind(r,5492,23)),Promise.resolve().then(r.t.bind(r,9082,23)),Promise.resolve().then(r.t.bind(r,5812,23))},8219:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9355,23)),Promise.resolve().then(r.t.bind(r,4439,23)),Promise.resolve().then(r.t.bind(r,7851,23)),Promise.resolve().then(r.t.bind(r,4730,23)),Promise.resolve().then(r.t.bind(r,9774,23)),Promise.resolve().then(r.t.bind(r,3170,23)),Promise.resolve().then(r.t.bind(r,968,23)),Promise.resolve().then(r.t.bind(r,8298,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9438:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(4667).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[421,959,588],()=>r(2039));module.exports=s})();