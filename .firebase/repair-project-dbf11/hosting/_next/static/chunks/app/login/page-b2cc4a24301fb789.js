(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(4568),a=s(7620),n=s(2942),o=s(7261),l=s.n(o),c=s(4338);function i(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),h=async s=>{if(s.preventDefault(),d(null),!t||!o)return void d("Пожалуйста, заполните все поля.");try{x(!0);let s=c.env.NEXT_PUBLIC_API_URL,r=await fetch("".concat(s,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o})}),a=await r.json();r.ok?(localStorage.setItem("token",a.token),e.push("/")):d(a.error||"Неверные учётные данные.")}catch(e){console.error(e),d("Сетевая ошибка. Попробуйте позже.")}finally{x(!1)}};return(0,r.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-stone-800 mb-6 text-center",children:"Вход"}),u&&(0,r.jsx)("div",{className:"mb-4 text-red-600 text-sm text-center",children:u}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-stone-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",placeholder:"example@domain.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-stone-700",children:"Пароль"}),(0,r.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",placeholder:"Ваш пароль"})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-base font-semibold text-white \n              ".concat(m?"bg-orange-300 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition"),children:m?"Входим...":"Войти"})]}),(0,r.jsxs)("p",{className:"mt-4 text-center text-sm text-stone-600",children:["Ещё нет аккаунта?"," ",(0,r.jsx)(l(),{href:"/register",className:"text-orange-500 hover:underline",children:"Зарегистрироваться"})]})]})})}},2942:(e,t,s)=>{"use strict";var r=s(2418);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6244:(e,t,s)=>{Promise.resolve().then(s.bind(s,249))}},e=>{var t=t=>e(e.s=t);e.O(0,[261,587,315,358],()=>t(6244)),_N_E=e.O()}]);