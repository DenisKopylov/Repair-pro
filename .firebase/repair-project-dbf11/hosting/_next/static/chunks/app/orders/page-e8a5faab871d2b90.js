(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{1778:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(8889).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3115:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(4568),l=t(7753),n=t(7261),r=t.n(n);let c=(0,t(8889).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var d=t(1778),i=t(6440),h=t(9369),o=t(5344);let x=e=>fetch(e,{cache:"no-store"}).then(e=>e.json()),m={Генератор:(0,a.jsx)(c,{className:"w-5 h-5"}),Стартер:(0,a.jsx)(c,{className:"w-5 h-5"}),"Топливный насос":(0,a.jsx)(c,{className:"w-5 h-5"}),Форсунки:(0,a.jsx)(d.A,{className:"w-5 h-5"}),Гидронасос:(0,a.jsx)(i.A,{className:"w-5 h-5"}),Гидромотор:(0,a.jsx)(i.A,{className:"w-5 h-5"}),Гидроцилиндр:(0,a.jsx)(i.A,{className:"w-5 h-5"}),Гидрораспределитель:(0,a.jsx)(i.A,{className:"w-5 h-5"})},u={NEW:"bg-orange-100 text-orange-700",OFFERED:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-green-100 text-green-700",IN_PROGRESS:"bg-blue-100 text-blue-700",DONE:"bg-emerald-100 text-emerald-700",DECLINED:"bg-rose-100 text-rose-700"};function p(){let{data:e,isLoading:s}=(0,l.Ay)("/orders",x);return s?(0,a.jsx)("div",{className:"flex justify-center pt-20",children:(0,a.jsx)(h.A,{className:"animate-spin text-stone-400"})}):(0,a.jsxs)("main",{className:"pb-28 pt-4 px-4 max-w-md mx-auto",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Мои заказы"}),null==e?void 0:e.map(e=>{var s;return(0,a.jsxs)(r(),{href:"/orders/".concat(e._id),className:"block bg-white rounded-xl shadow-sm mb-5 ring-1 ring-stone-200 hover:ring-orange-400/60 transition",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4",children:[(0,a.jsx)("div",{className:"shrink-0 rounded-lg bg-orange-50 p-3",children:null!=(s=m[e.partType])?s:(0,a.jsx)(c,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)("p",{className:"font-medium leading-tight",children:e.partType}),(0,a.jsx)("p",{className:"text-xs text-stone-500 line-clamp-1",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-stone-400 mt-1",children:["Создан: ",new Date(e.createdAt).toLocaleDateString("ru")]})]}),(0,a.jsx)("span",{className:"text-[10px] font-medium py-[2px] px-2 rounded-full whitespace-nowrap ".concat(u[e.status]),children:function(e){switch(e){case"NEW":return"Новый";case"OFFERED":return"Ожидает решения";case"CONFIRMED":return"Подтверждён";case"DECLINED":return"Отказ";case"IN_PROGRESS":return"В работе";case"DONE":return"Готов";default:return e}}(e.status)})]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)(N,{status:e.status})}),(0,a.jsxs)("button",{className:"flex items-center justify-center w-full gap-1 text-sm font-semibold py-2 mt-4 bg-stone-900 text-white rounded-b-xl",type:"button",children:["Подробнее",(0,a.jsx)(o.A,{className:"w-4 h-4 -mr-1"})]})]},e._id)}),!(null==e?void 0:e.length)&&(0,a.jsx)("p",{className:"text-center text-stone-500 mt-12",children:"Пока заказов нет"})]})}function N(e){var s;let{status:t}=e,l=null!=(s=({NEW:0,OFFERED:25,CONFIRMED:50,DECLINED:50,IN_PROGRESS:75,DONE:100})[t])?s:0;return(0,a.jsx)("div",{className:"h-2 rounded bg-stone-200 overflow-hidden mb-4",children:(0,a.jsx)("div",{className:"".concat("DONE"===t?"bg-emerald-500":"IN_PROGRESS"===t?"bg-yellow-400":"bg-orange-500"," h-full transition-all"),style:{width:"".concat(l,"%")}})})}},5344:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(8889).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6440:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(8889).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},9122:(e,s,t)=>{Promise.resolve().then(t.bind(t,3115))}},e=>{var s=s=>e(e.s=s);e.O(0,[261,801,587,315,358],()=>s(9122)),_N_E=e.O()}]);