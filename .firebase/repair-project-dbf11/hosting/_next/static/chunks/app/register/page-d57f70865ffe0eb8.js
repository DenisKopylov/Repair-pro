(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{45:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(4568),a=s(7620),n=s(2942),o=s(7261),l=s.n(o),d=s(4338);function c(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),g=async s=>{if(s.preventDefault(),x(null),!t||!o||!i)return void x("Пожалуйста, заполните все поля.");try{f(!0);let s=d.env.NEXT_PUBLIC_API_URL,r=await fetch("".concat(s,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:o,password:i})});if(201===r.status)e.push("/login");else{let e=await r.json();x(e.error||"Ошибка регистрации")}}catch(e){console.error(e),x("Сетевая ошибка. Попробуйте позже.")}finally{f(!1)}};return(0,r.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-stone-800 mb-6 text-center",children:"Регистрация"}),m&&(0,r.jsx)("div",{className:"mb-4 text-red-600 text-sm text-center",children:m}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-stone-700",children:"Имя"}),(0,r.jsx)("input",{id:"name",type:"text",value:t,onChange:e=>s(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",placeholder:"Ваше имя"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-stone-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>c(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",placeholder:"example@domain.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-stone-700",children:"Пароль"}),(0,r.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>u(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm",placeholder:"Минимум 6 символов"})]}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-base font-semibold text-white \n              ".concat(h?"bg-orange-300 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition"),children:h?"Регистрация...":"Зарегистрироваться"})]}),(0,r.jsxs)("p",{className:"mt-4 text-center text-sm text-stone-600",children:["Уже зарегистрированы?"," ",(0,r.jsx)(l(),{href:"/login",className:"text-orange-500 hover:underline",children:"Войти"})]})]})})}},2942:(e,t,s)=>{"use strict";var r=s(2418);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8110:(e,t,s)=>{Promise.resolve().then(s.bind(s,45))}},e=>{var t=t=>e(e.s=t);e.O(0,[261,587,315,358],()=>t(8110)),_N_E=e.O()}]);