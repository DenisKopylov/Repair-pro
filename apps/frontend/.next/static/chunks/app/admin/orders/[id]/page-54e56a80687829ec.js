(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{430:(e,s,t)=>{Promise.resolve().then(t.bind(t,1557))},1557:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(4568),l=t(2942),a=t(7753),n=t(7620),i=t(7261),d=t.n(i),o=t(1773),c=t(9369),m=t(8276),u=t(8889);let h=(0,u.A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var x=t(6440),p=t(8961);let f=(0,u.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),b=e=>t.e(262).then(t.bind(t,6262)).then(s=>{let{fetchWithAuth:t}=s;return t(e,{cache:"no-store"}).then(e=>e.json())});function y(){let{id:e}=(0,l.useParams)(),s=(0,l.useRouter)(),{data:i,isLoading:u}=(0,a.Ay)("/orders/".concat(e),b),[y,v]=(0,n.useState)(""),[j,g]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[w,A]=(0,n.useState)("");(0,n.useEffect)(()=>{if(i){var e,s,t,r,l,a,n,d;v(null!=(l=null==(e=i.defectPrice)?void 0:e.toString())?l:""),g(null!=(a=null==(s=i.repairPrice)?void 0:s.toString())?a:""),k(null!=(n=null==(t=i.workHours)?void 0:t.toString())?n:""),A(null!=(d=null==(r=i.internalCost)?void 0:r.toString())?d:"")}},[i]);let P=async()=>{let{fetchWithAuth:r}=await t.e(262).then(t.bind(t,6262));await r("/orders/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({defectPrice:Number(y),repairPrice:Number(j),workHours:Number(N)})}),s.push("/admin/orders")};return u||!i?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)(c.A,{className:"animate-spin text-stone-500",size:48})}):(0,r.jsxs)("main",{className:"p-4 max-w-md mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d(),{href:"/admin/orders",className:"text-stone-600 hover:text-stone-800",children:(0,r.jsx)(m.A,{size:20})}),(0,r.jsxs)("h1",{className:"text-lg font-semibold",children:["Заказ #",i._id.slice(-6)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Изображение детали"}),i.images&&i.images.length>0?(0,r.jsx)("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-gray-100",children:(0,r.jsx)(o.default,{src:i.images[0],alt:"Part Image",width:800,height:450,className:"object-cover object-center"})}):(0,r.jsx)("div",{className:"w-full aspect-video rounded-lg bg-gray-100 flex items-center justify-center text-gray-400",children:"Нет изображения"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Цена дефектовки"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,r.jsx)(h,{size:16})}),(0,r.jsx)("input",{type:"number",value:y,onChange:e=>v(e.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Цена ремонта"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,r.jsx)(x.A,{size:16})}),(0,r.jsx)("input",{type:"number",value:j,onChange:e=>g(e.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Время работы (часы)"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,r.jsx)(p.A,{size:16})}),(0,r.jsx)("input",{type:"number",value:N,onChange:e=>k(e.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"0"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Внутренняя стоимость"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:(0,r.jsx)(f,{size:16})}),(0,r.jsx)("input",{type:"text",value:w,disabled:!0,className:"block w-full pl-10 pr-3 py-2 border rounded-md bg-stone-100 text-gray-500 sm:text-sm",placeholder:"Недоступно"})]})]}),(0,r.jsx)("button",{onClick:P,className:"w-full bg-primary-500 hover:bg-primary-600 text-white rounded-md py-3 text-sm font-semibold transition",children:"Сохранить"})]})}},2942:(e,s,t)=>{"use strict";var r=t(2418);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},6440:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(8889).A)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},8276:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(8889).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8961:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(8889).A)("clock-3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[261,801,773,587,315,358],()=>s(430)),_N_E=e.O()}]);