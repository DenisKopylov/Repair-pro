{
  "hosting": [
    {
      "target": "frontend",
      "public": "apps/frontend/out",
      "ignore": [
        "firebase.json",
        "**/.*",
        "**/node_modules/**"
      ],
      "rewrites": [
        {
          "source": "/api/**",
          "run": {
            "serviceId": "repair-backend",
            "region": "europe-west4"
          }
        },
        {
          "source": "**",
          "destination": "/index.html"
        }
      ]
    },
    {
      "target": "backend",
      "source": "apps/backend",
      "frameworksBackend": {
        "region": "europe-west4",
        "build": "npm --prefix \"$RESOURCE_DIR\" run build",
        "server": "npm --prefix \"$RESOURCE_DIR\" run start"
      },
      "ignore": [
        "firebase.json",
        "**/.*",
        "**/node_modules/**"
      ],
      "rewrites": [
        {
          "source": "/healthz",
          "run": {
            "serviceId": "repair-backend",
            "region": "europe-west4"
          }
        },
        {
          "source": "/**",
          "run": {
            "serviceId": "repair-backend",
            "region": "europe-west4"
          }
        }
      ]
    }
  ],
  "apphosting": {
    "backendId": "repair-backend",
    "rootDir": "/",
    "ignore": [
      "node_modules",
      ".git",
      "firebase-debug.log",
      "firebase-debug.*.log",
      "functions"
    ],
    "alwaysDeployFromSource": false
  }
}
